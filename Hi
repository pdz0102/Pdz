local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local root = char:WaitForChild("HumanoidRootPart")

-- Danh sách killers hợp lệ
local killerNames = {
	["1x1x1x1"] = true,
	["Coolkid"] = true,
	["Slasher"] = true,
	["Noli"] = true,
	["John Doe"] = true,
}

-- Settings
local blockRange = 14-- khoảng cách (studs)
local reactionDelay = 0.1  -- tốc độ phản ứng (giây)
local autoBlockEnabled = true

-- Hàm check kẻ địch trong danh sách
local function getKillerInRange()
	for name, _ in pairs(killerNames) do
		local killer = workspace:FindFirstChild(name)
		if killer and killer:FindFirstChild("HumanoidRootPart") then
			local dist = (root.Position - killer.HumanoidRootPart.Position).Magnitude
			if dist <= blockRange then
				return killer
			end
		end
	end
	return nil
end

-- Vòng lặp auto block
RunService.Heartbeat:Connect(function()
	if autoBlockEnabled then
		local killer = getKillerInRange()
		if killer then
			task.delay(reactionDelay, function()
				if not blockSound.IsPlaying then
					blockSound:Play()
				end
			end)
		end
	end
end)
